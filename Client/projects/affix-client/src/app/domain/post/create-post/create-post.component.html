<div>
  <div class='row'>
    <!-- Column 1 -->
    <div class='column'>
      <!-- Title -->
      <div class="editor-section">
        <strong>Title:</strong>
      </div>
      <mat-divider></mat-divider>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="3"
                  cols="80"
                  placeholder="Enter title in plain text"
                  [(ngModel)]="title"
                  [ngClass]="validateInput(title) === true ? 'valid' : 'invalid'">
        </textarea>
      </div>
      <mat-divider></mat-divider>
      <!-- Moniker -->
      <div class="editor-section">
        <strong>Moniker:</strong>
      </div>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="3"
                  cols="80"
                  placeholder="Enter title in plain text"
                  [(ngModel)]="moniker"
                  [ngClass]="validateInput(title) === true ? 'valid' : 'invalid'">
        </textarea>
      </div>
      <mat-divider></mat-divider>
      <!-- Header -->
      <div class="editor-section">
        <strong>Header:</strong>
      </div>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="3"
                  cols="80"
                  placeholder="Enter header e.g. 1 min read"
                  [(ngModel)]="header"
                  [ngClass]="validateInput(header) === true ? 'valid' : 'invalid'">
        </textarea>
      </div>
      <mat-divider></mat-divider>
      <!-- Summary -->
      <div class="editor-section">
        <strong>Summary:</strong>
      </div>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="3"
                  cols="80"
                  placeholder="Enter summary in plain text"
                  [(ngModel)]="summary"
                  [ngClass]="validateInput(summary) === true ? 'valid' : 'invalid'">
        </textarea>
      </div>
      <mat-divider></mat-divider>
      <!-- Image -->
      <div class="editor-section">
        <strong>Image:</strong>
      </div>
      <div class="editor-section image-upload">
        <input type="file" class="file-input"
               (change)="onFileSelected($event)" #fileUpload>
        <div class="file-upload">
          {{ fileName || "No file uploaded yet." }}
          <button mat-mini-fab color="primary" class="upload-btn"
                  (click)="fileUpload.click()">
            <mat-icon>attach_file</mat-icon>
          </button>
        </div>
      </div>
      <mat-divider></mat-divider>
      <!-- ImageAltText -->
      <div class="editor-section">
        <strong>Image Alt Text:</strong>
      </div>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="3"
                  cols="80"
                  placeholder="Enter image alt text"
                  [(ngModel)]="imageAltText"
                  [ngClass]="validateInput(summary) === true ? 'valid' : 'invalid'">
        </textarea>
      </div>
      <mat-divider></mat-divider>
      <!-- Content in Markdown -->
      <div class="editor-section">
        <strong>Content in Markdown:</strong>
      </div>
      <mat-divider></mat-divider>
      <div class="editor-section">
        <textarea matInput
                  cdkTextareaAutosize
                  rows="20"
                  cols="80"
                  placeholder="Enter content in markdown"
                  (keyup)="onValueChanged($event)"
                  [ngClass]="validateInput(parsedString) === true ? 'valid' : 'invalid'">
          </textarea>
      </div>
      <mat-divider></mat-divider>
    </div>
    <!-- Column 2 -->
    <div class='column'>
      <!-- Title Preview -->
      <div class="editor-section">
        <strong>Title:</strong>
      </div>
      <mat-divider></mat-divider>
      <div class="editor-field-container">
        <h1 [innerHtml]="title"></h1>
      </div>
      <mat-divider></mat-divider>
      <!-- Moniker Preview -->
      <div class="editor-section">
        <strong>Moniker:</strong>
      </div>
      <div class="editor-field-container">
        {{ moniker }}
      </div>
      <mat-divider></mat-divider>
      <!-- Header Preview -->
      <div class="editor-section">
        <strong>Header:</strong>
      </div>
      <div class="editor-field-container">
        {{ header }}
      </div>
      <mat-divider></mat-divider>
      <!-- Summary Preview -->
      <div class="editor-section">
        <strong>Summary:</strong>
      </div>
      <div class="editor-field-container">
        {{ summary }}
      </div>
      <mat-divider></mat-divider>
      <!-- Image Preview -->
      <div class="editor-section">
        <strong>Image:</strong>
      </div>
      <div class="editor-section image-upload">
        <img *ngIf="imageId !== '' && imageSrc !== ''" [src]="imageSrc " [alt]="imageAltText" width="auto" height="100%">
      </div>
      <mat-divider></mat-divider>
      <!-- Image Alt Text Preview -->
      <div class="editor-section">
        <strong>Image Alt Text:</strong>
      </div>
      <div class="editor-field-container">
        {{ imageAltText }}
      </div>
      <mat-divider></mat-divider>
      <!-- Parsed Markdown Preview -->
      <div class="editor-section"><strong>Parsed Markdown</strong></div>
      <mat-divider></mat-divider>
      <div [innerHtml]="parsedString" class="editor-field-markdown-container"></div>
      <mat-divider></mat-divider>
    </div>
  </div>
</div>

<button mat-button (click)="createPost()" [disabled]="!validatePost()">Create Post</button>
<button mat-button (click)="previewPostCard()" [disabled]="!validatePost()">Preview Post Card</button>
<button mat-button (click)="previewPostDetails()" [disabled]="!validatePost()">Preview Post Details</button>
<button mat-button (click)="saveDraft()">Save draft</button>
<button mat-button (click)="cancel()">Cancel</button>
